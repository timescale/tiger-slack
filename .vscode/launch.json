{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Debug Tiger-Slack Ingest",
            "type": "python",
            "request": "launch",
            "module": "tiger_slack.main",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}/ingest",
            "env": {
                "PYTHONPATH": "${workspaceFolder}",
            },
            "envFile": "${workspaceFolder}/.env"
        },
        {
            "name": "Debug Tiger-Slack MCP Server",
            "type": "node",
            "request": "launch",
            "preLaunchTask": "Tiger-Slack MCP - Build Only",
            "runtimeExecutable": "node",
            "runtimeArgs": [
                "--enable-source-maps"
            ],
            "program": "${workspaceFolder}/mcp/dist/index.js",
            "args": [
                "http"
            ],
            "console": "integratedTerminal",
            "internalConsoleOptions": "neverOpen",
            "cwd": "${workspaceFolder}/mcp",
            "env": {
                "NODE_ENV": "development"
            },
            "envFile": "${workspaceFolder}/.env",
            "sourceMaps": true,
            "outFiles": [
                "${workspaceFolder}/mcp/dist/**/*.js",
                "!**/node_modules/**"
            ],
            "resolveSourceMapLocations": [
                "${workspaceFolder}/mcp/**",
                "!**/node_modules/**"
            ],
            "skipFiles": [
                "<node_internals>/**",
                "**/node_modules/**"
            ],
            "presentation": {
                "group": "mcp",
                "order": 1
            }
        },
        {
            "name": "Run Message Migration",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/ingest/scripts/migrate_messages.py",
            "args": [
                "--dest-table",
                "slack.message_vanilla"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}/ingest",
            "envFile": "${workspaceFolder}/.env"
        },
        {
            "name": "Run Message Migration - Continue",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/ingest/scripts/migrate_messages.py",
            "args": [
                "--resume",
                "${workspaceFolder}/ingest/migration_job_20260122_095200.json"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}/ingest",
            "envFile": "${workspaceFolder}/.env"
        },
        {
            "name": "Run Import",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/ingest/scripts/import.py",
            "args": [
                "${input:importDirectory}"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}/ingest",
            "envFile": "${workspaceFolder}/.env"
        },
        {
            "name": "Run Backfill Searchable Content",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/ingest/scripts/backfill_searchable_content.py",
            "args": [
                "--reembed-batch-size",
                "1000",
                "--in-place-batch-size",
                "50000",
                "--workers",
                "4"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}/ingest",
            "envFile": "${workspaceFolder}/.env"
        },
        {
            "name": "Run Backfill Searchable Content (Dummy)",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/ingest/scripts/backfill_searchable_content.py",
            "args": [
                "--reembed-batch-size",
                "1000",
                "--in-place-batch-size",
                "50000",
                "--workers",
                "4",
                "--use-dummy-embeddings"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}/ingest",
            "envFile": "${workspaceFolder}/.env"
        },
        {
            "name": "Generate Dummy Messages",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/ingest/scripts/generate_dummy_messages.py",
            "args": [
                "10000",
                "--with-attachments-pct",
                "50",
                "--use-dummy-embeddings"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}/ingest",
            "envFile": "${workspaceFolder}/.env"
        }
    ],
    "inputs": [
        {
            "id": "importDirectory",
            "type": "promptString",
            "description": "Path to Slack export directory",
            "default": "${workspaceFolder}/data"
        }
    ]
}